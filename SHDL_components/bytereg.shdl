use stdgates::{NOR, AND, NOT};

component bytereg(In[8], clk) -> (Out[8]){

    >i[8]{
        a1{i}:AND;
        a2{i}:AND;
        not1{i}:NOT;
        nor1{i}:NOR;
        nor2{i}: NOR;
    }
    connect{
    >i[8]{
        In[{i}]->a1{i}.A; In[{i}]->not1{i}.A; not1{i}.O->a2{i}.A;
        clk->a1{i}.B; clk ->a2{i}.B;
        a1{i}.O->nor1{i}.A; a2{i}.O->nor2{i}.A;
        nor1{i}.O->nor2{i}.B; nor2{i}.O -> nor1{i}.B;
        nor2{i}.O->Out[{i}];
    }
    }
}