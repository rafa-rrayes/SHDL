# Half Adder - fundamental building block
# Sum = A XOR B
# Carry = A AND B
component HalfAdder(A, B) -> (Sum, Carry) {
    xor1: XOR;
    and1: AND;
    
    connect {
        A -> xor1.A;
        B -> xor1.B;
        A -> and1.A;
        B -> and1.B;
        xor1.O -> Sum;
        and1.O -> Carry;
    }
}

# Full Adder - single bit addition with carry
# Sum = A XOR B XOR Cin
# Cout = (A AND B) OR ((A XOR B) AND Cin)
component FullAdder(A, B, Cin) -> (Sum, Cout) {
    x1: XOR;
    x2: XOR;
    a1: AND;
    a2: AND;
    o1: OR;
    
    connect {
        A -> x1.A;
        B -> x1.B;
        A -> a1.A;
        B -> a1.B;
        x1.O -> x2.A;
        Cin -> x2.B;
        x1.O -> a2.A;
        Cin -> a2.B;
        a1.O -> o1.A;
        a2.O -> o1.B;
        x2.O -> Sum;
        o1.O -> Cout;
    }
}
